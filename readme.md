# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?
* Команда для отображения интерфейсов Linux `ifconfig` или `ip link`. Для отображения интерфейсов Windows `ipconfig /all`

3. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?
* Для распознания "соседа" по сетевому интерфейсу можно использовать протокол LLDP (link layer discovery protocol). В Линуксе для этого используется пакет lldp.

5. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.
* Для разделения сетей на L2 коммутаторе используется технология VLAN (стандарт 802.1q, RFC 5517). Для конфигурирования VLAN на сетевом интерфейсе Linux используется пакет `vlan`, при этом необходимо выполнить следующее: </br>
```commandline
root@netology1:~# apt update                        -   обновляем список пакетов Linux
...
root@netology1:~# apt install vlan                  -   устанавливаем пакет vlan
...
root@netology1:~# modprobe --first-time 8021q       -   загружаем модуль 
root@netology1:~# modinfo 8021q                     -   проверяем информацию о модуле
root@netology1:~# lsmod|grep  8021q                 -   проверяем, что модуль загрузился
root@netology1:~# ip link add link eth0 name eth0.100 type vlan id 100  - добавляем vlan 100 на интерфейс eth0.0
root@netology1:~# ip a                              - проверяем, что интерфейс появился в системе
...
root@netology1:~# ip addr add 192.168.3.50/24 dev eth0.100  - присваиваем интерфейсу eth0.100 адрес
root@netology1:~# ip a                              - проверяем, что интерфейсу присвоился адрес
root@netology1:~# 
```
* для сохранения настроек после перезагрузки необходимо отредактировать файл `/etc/network/interfaces` следующим образом: </br>
```commandline
auto eth0.100
iface eth0.100 inet static
address 192.168.3.50
netmask 255.255.255.0
vlan-raw-device eth0.100
```

7. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.
* В Linux применяется тип агрегации каналов называемый "bounding"
* В такой конфигурации для балансировке нагрузки необходимо использовать параметр `bond_mod 0`
* Пример конфига `/etc/network/interfaces`:</br>
```commandline
auto bond0
iface bond0 inet static
	address 192.168.2.50
	netmask 255.255.255.0	
	gateway 192.168.2.1
	dns-nameservers 192.168.2.1 8.8.8.8
	dns-search domain.local
		slaves eth0 eth1
		bond_mode 0
		bond-miimon 100
		bond_downdelay 200
		bond_updelay 200

```
9. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.
* В сети с маской /29 находится 8 адресов, 2 из которых являются адресом сети и широковещательным адресом.
* В сети с маской /24 помещается 32 подсети с маской /29 
* Примеры /29 подсетей (8 адресов) внутри сети /24 (256 адресов):
  * сеть 10.10.10.0, широковещательный 10.10.10.7
  * сeть 10.10.10.8, шикоровещательный 10.10.10.15 и тд

11. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.
* Для этой цели можно использовать подсеть 100.64.0.0 с маской подсети /26.
12. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?
* Просмотр arp таблицы в Linux `arp -an`
* В Windows `arp -a`
* Удаление arp записи в Windows и Linux `arp -d`

 ---
## Задание для самостоятельной отработки (необязательно к выполнению)

 8*. Установите эмулятор EVE-ng.
 
 Инструкция по установке - https://github.com/svmyasnikov/eve-ng

 Выполните задания на lldp, vlan, bonding в эмуляторе EVE-ng.